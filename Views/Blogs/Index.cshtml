@model ShadowBlog.ViewModels.HomeIndexViewModel
@using ShadowBlog.Services.Interfaces
@inject IImageService _imageService


@{
    ViewData["Title"] = "Index";
}

<section class="inner-page-banner bg-common" data-bg-image="media/figure/banner1.jpg">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="breadcrumbs-area">
                    @*<h1>Racing Category</h1>
                        <ul>
                            <li>
                                <a href="index.html">Home</a>
                            </li>
                            <li>
                                <a href="#">Category</a>
                            </li>
                            <li>Action</li>
                        </ul>*@
                </div>
            </div>
        </div>
    </div>
</section>
<!--=====================================-->
<!--=           Category Start        	=-->
<!--=====================================-->
<section class="inner-section">
    <div class="container">
        <div class="row gutters-40">
            <div class="col-xl-9">
                <div class="row">
                    @foreach (Blog blog in Model.Blogs) {
                    <div class="col-md-6">
                        <div class="post-list-layout3  post-grid16">
                            <div class="item-img">
                                <img src="@_imageService.DecodeImage(blog.ImageData, blog.ContentType)" width="460" height="520" alt="Blog Photo">
                            </div>
                            <div class="item-content">
                                <div class="item-tag bg-light-green"></div>
                                <div class="post-meta">
                                    <ul>
                                        <li><i class="flaticon-clock"></i>@blog.Created.ToString("dd MMMM, yyyy")</li>
                                        @*<li class="item-author"><i class="flaticon-user bg-green"></i><span>By</span><a href="#">@blog.User.FullName</a></li>*@
                                    </ul>
                                </div>
                                <h3 class="item-title"><a asp-action="ChildIndex" asp-controller="BlogPosts" asp-route-blogId="@blog.Id">@blog.Name</a></h3>
                                <p>
                                   @blog.Description
                                </p>
                            </div>
                        </div>
                    </div>
                    }
                </div>
                <div class="pagination-layout1 mt-5">
                    <ul>
                        <li><a href="#" class="active">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-xl-3 sidebar-widget-xl">
                <div class="widget widget-search">
                    <div class="input-group stylish-input-group">
                        <input type="text" class="form-control" placeholder="Search Story . . .">
                        <span class="input-group-addon">
                            <button type="submit">
                                <span class="flaticon-search" aria-hidden="true"></span>
                            </button>
                        </span>
                    </div>
                </div>
                <div class="widget widget-upcoming-post">
                    <div class="heading-layout1">
                        <h2 class="heading-title">Recent Blog Posts</h2>
                    </div>
                    <div class="post-list-layout2">
                        @foreach (BlogPost blogPost in Model.NewestCards.SidePostCards)
                        {
                        <div class="media">
                            <div class="item-img">
                                <img src="@_imageService.DecodeImage(blogPost.ImageData, blogPost.ImageType)" alt="Post">
                            </div>
                            <div class="media-body">
                                <div class="post-date"><i class="flaticon-clock"></i>@blogPost.Created.ToString("dd MMMM, yyyy")</div>
                                <h4 class="post-title"><a href="single-post1.html">@blogPost.Title</a></h4>
                            </div>
                        </div>
                        }
                    </div>
                </div>
                <div class="widget widget-social">
                    <div class="heading-layout1">
                        <h2 class="heading-title">Follow Us On</h2>
                    </div>
                    <div class="social-box">
                        <div class="media">
                            <div class="item-icon bg-fb">
                                <i class="fab fa-facebook-f"></i>
                            </div>
                            <div class="media-body bg-fb2">
                                <div class="item-title text-white">Followers</div>
                                <div class="follower-number text-white">10,555</div>
                            </div>
                        </div>
                        <div class="media">
                            <div class="item-icon bg-twitter">
                                <i class="fab fa-twitter"></i>
                            </div>
                            <div class="media-body bg-twitter2">
                                <div class="item-title text-white">Followers</div>
                                <div class="follower-number text-white">19,555</div>
                            </div>
                        </div>
                        <div class="media">
                            <div class="item-icon bg-google-plus">
                                <i class="fab fa-google-plus-g"></i>
                            </div>
                            <div class="media-body bg-google-plus2">
                                <div class="item-title text-white">Followers</div>
                                <div class="follower-number text-white">9,369</div>
                            </div>
                        </div>
                        <div class="media">
                            <div class="item-icon bg-dribble">
                                <i class="fab fa-dribbble"></i>
                            </div>
                            <div class="media-body bg-dribble2">
                                <div class="item-title text-white">Followers</div>
                                <div class="follower-number text-white">11,599</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="widget widget-ad">
                    <a href="#">
                        <img src="media/figure/ad3.jpg" alt="Ad">
                    </a>
                </div>
                <div class="widget widget-most-viewed">
                    <div class="heading-layout1">
                        <h3 class="heading-title">Most Viewed</h3>
                    </div>
                    <div class="grid-post">
                        <div class="item-img">
                            <img src="media/post/post28.jpg" alt="Post">
                            <div class="item-tag bg-light">Scoccer</div>
                        </div>
                        <div class="item-content">
                            <div class="post-date"><i class="flaticon-clock"></i> 27 June, 2019</div>
                            <h3 class="post-title"><a href="single-post1.html">Top 10 Best Computer games Speakers in the Market</a></h3>
                        </div>
                    </div>
                    <div class="list-post">
                        <div class="media">
                            <div class="item-img">
                                <img src="media/post/post7.jpg" alt="Post">
                            </div>
                            <div class="media-body">
                                <div class="post-date"><i class="flaticon-clock"></i> 27 June, 2019</div>
                                <h4 class="post-title"><a href="single-post1.html">Hitlist ast Computer ar in the market ...</a></h4>
                            </div>
                        </div>
                        <div class="media">
                            <div class="item-img">
                                <img src="media/post/post8.jpg" alt="Post">
                            </div>
                            <div class="media-body">
                                <div class="post-date"><i class="flaticon-clock"></i> 27 June, 2019</div>
                                <h4 class="post-title"><a href="single-post1.html">Hitlist ast Computer ar in the market ...</a></h4>
                            </div>
                        </div>
                        <div class="media">
                            <div class="item-img">
                                <img src="media/post/post9.jpg" alt="Post">
                            </div>
                            <div class="media-body">
                                <div class="post-date"><i class="flaticon-clock"></i> 27 June, 2019</div>
                                <h4 class="post-title"><a href="single-post1.html">Hitlist ast Computer ar in the market ...</a></h4>
                            </div>
                        </div>
                    </div>
                    <a href="#" class="view-all-btn"><i class="flaticon-right-arrow"></i>View All Post</a>
                </div>
            </div>
        </div>
    </div>
</section>
<!--=====================================-->
<!--=            Footer Start           =-->
<!--=====================================-->
@*<h1>Index</h1>

    <p>
        <a asp-action="Create">Create New</a>
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayName("Blog Image")
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Created)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <img class="img-fluid" src="@_imageService.DecodeImage(item.ImageData, item.ContentType)" />
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Created)
                    </td>
                    <td>
                        <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                        <a asp-action="Delete" asp-route-id="@item.Id">Delete</a> |
                        <a asp-controller="BlogPosts" asp-action="ChildIndex" asp-route-blogId="@item.Id">My Posts</a> |
                        <a asp-controller="BlogPosts" asp-action="Create" asp-route-blogId="@item.Id">New Post</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>*@